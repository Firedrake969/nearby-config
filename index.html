
<!DOCTYPE html>
<html>
<head>
    <title>Pebble App Settings</title>
</head>
<body>
    <div>API Key</div>
    <input id="apiKey" type="text" step="any" />
    <br />

    <div>Search Radius</div>
    <input id="radius" type="tel" step="any" />
    <br />
    <button id="save">Save</button>
    <script>
        var curOpts = JSON.parse(decodeURIComponent(window.location.hash.substr(1)));
        for (var key in curOpts) {
            if (document.getElementById(key)) {
                document.getElementById(key).value = curOpts[key];
            }
        }
        document.getElementById('save').addEventListener('click', function(e) {
            var radius = Math.round(document.getElementById('radius').value * 1609.344);
            var apiKey = document.getElementById('apiKey').value;
            var options = {
                radius: radius,
                apiKey: apiKey,
            };
            window.location.href = 'pebblejs://close#' + encodeURIComponent(JSON.stringify(options));
        });
    </script>
</body>
</html>
